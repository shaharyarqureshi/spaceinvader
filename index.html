<!DOCTYPE html>
<html>
<head>
  <title>Space Invaders</title>
  <style>
    #game-container {
      position: relative;
      width: 400px;
      height: 400px;
      margin: 0 auto;
      border: 2px solid #000;
    }
    .ship {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 30px;
      background-color: #000;
    }
    .bullet {
      position: absolute;
      background-color: red;
      width: 4px;
      height: 10px;
    }
    .invader {
      position: absolute;
      background-color: green;
      width: 30px;
      height: 30px;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <div id="ship" class="ship"></div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const ship = document.getElementById("ship");
      const gameContainer = document.getElementById("game-container");
      const bullets = [];
      const invaders = [];

      function createBullet() {
        const bullet = document.createElement("div");
        bullet.classList.add("bullet");
        bullet.style.left = ship.offsetLeft + ship.offsetWidth / 2 - bullet.offsetWidth / 2 + "px";
        bullet.style.top = ship.offsetTop - bullet.offsetHeight + "px";
        gameContainer.appendChild(bullet);
        bullets.push(bullet);
      }

      function moveBullets() {
        bullets.forEach((bullet) => {
          bullet.style.top = parseInt(bullet.style.top) - 4 + "px";
          if (bullet.offsetTop + bullet.offsetHeight < 0) {
            bullet.remove();
            bullets.splice(bullets.indexOf(bullet), 1);
          }
        });
      }

      function createInvader() {
        const invader = document.createElement("div");
        invader.classList.add("invader");
        invader.style.left = Math.floor(Math.random() * (gameContainer.offsetWidth - invader.offsetWidth)) + "px";
        invader.style.top = -invader.offsetHeight + "px";
        gameContainer.appendChild(invader);
        invaders.push(invader);
      }

      function moveInvaders() {
        invaders.forEach((invader) => {
          invader.style.top = parseInt(invader.style.top) + 2 + "px";
          if (invader.offsetTop > gameContainer.offsetHeight) {
            invader.remove();
            invaders.splice(invaders.indexOf(invader), 1);
          }
        });
      }

      function checkCollision() {
        bullets.forEach((bullet) => {
          invaders.forEach((invader) => {
            if (
              bullet.offsetLeft < invader.offsetLeft + invader.offsetWidth &&
              bullet.offsetLeft + bullet.offsetWidth > invader.offsetLeft &&
              bullet.offsetTop < invader.offsetTop + invader.offsetHeight &&
              bullet.offsetTop + bullet.offsetHeight > invader.offsetTop
            ) {
              bullet.remove();
              bullets.splice(bullets.indexOf(bullet), 1);
              invader.remove();
              invaders.splice(invaders.indexOf(invader), 1);
            }
          });
        });
      }

      function checkGameOver() {
        if (invaders.some((invader) => invader.offsetTop + invader.offsetHeight >= ship.offsetTop)) {
          clearInterval(gameLoopInterval);
          alert("Game Over!");
        }
      }

      function gameLoop() {
        moveBullets();
        moveInvaders();
        checkCollision();
        checkGameOver();
     
    }

document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowLeft" && ship.offsetLeft > 0) {
    ship.style.left = ship.offsetLeft - 10 + "px";
  } else if (e.key === "ArrowRight" && ship.offsetLeft + ship.offsetWidth < gameContainer.offsetWidth) {
    ship.style.left = ship.offsetLeft + 10 + "px";
  } else if (e.key === " ") {
    createBullet();
  }
});

setInterval(createInvader, 1000);

const gameLoopInterval = setInterval(gameLoop, 20);
});
</script>
</body>
</html>